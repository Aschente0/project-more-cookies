{"version":3,"file":"static/webpack/static\\development\\pages\\watcher.js.5041687b85034b32df76.hot-update.js","sources":["webpack:///./pages/watcher.js"],"sourcesContent":["import { Component } from 'react';\r\nimport io from 'socket.io-client';\r\nimport { render } from 'react-dom';\r\n\r\nexport default class Medium extends Component {\r\n    // constructor(props){\r\n    //     super(props);\r\n\r\n    //     this.state={\r\n    //         hello:''\r\n    //     }\r\n    // }\r\n\r\n    // componentDidMount(){\r\n    //     this.socket=io()\r\n    //     this.socket.emit('watcher');\r\n    //     this.socket.on('now', (data) => {\r\n    //         this.setState({\r\n    //             hello: data.message\r\n    //         })\r\n    //     })\r\n    // }\r\n    \r\n    // render(){\r\n    //     return(\r\n    //         <div>\r\n    //             <h1>{this.state.hello}</h1>\r\n    //             <p>test</p>\r\n    //         </div>\r\n            \r\n    //     )\r\n    // }\r\n\r\n    componentDidMount(){\r\n        const peerConnection = new RTCPeerConnection();\r\n\r\n        this.socket = io();\r\n        this.video = document.querySelector('video');\r\n\r\n        this.socket.on('offer', function (message){\r\n            peerConnection.setRemoteDescription(message)\r\n            .then(() => peerConnection.createAnswer())\r\n            .then(sdp => peerConnection.setLocalDescription(sdp))\r\n            .then(function() {\r\n                this.socket.emit('answer', peerConnection.localDescription);\r\n            });\r\n        });\r\n\r\n        peerConnection.onaddstream = function (event) {\r\n            this.video.srcObject = event.stream;\r\n        };\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <video playsinline autoplay muted></video>\r\n        )\r\n    }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;;;;AArDA;AACA;;;;;A","sourceRoot":""}